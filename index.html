<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Sala + Cubo (mínimo)</title>
  <style>
    html,body{height:100%;margin:0;background:#000}
    canvas{width:100%;height:100%;display:block}
  </style>
  <script src="https://cdn.babylonjs.com/babylon.js"></script>
</head>
<body>
  <canvas id="game"></canvas>
  <script>
  (function(){
    const canvas = document.getElementById('game');
    const engine = new BABYLON.Engine(canvas, true);

    function createScene(){
      const scene = new BABYLON.Scene(engine);
      scene.clearColor = new BABYLON.Color4(0,0,0,1);

      // Câmera simples apontando para o centro
      const camera = new BABYLON.UniversalCamera('cam', new BABYLON.Vector3(1.2, 0.9, -18.6), scene);
      camera.attachControl(canvas, true);
      // FPS: gira em torno de si mesmo (sem orbitar)
      camera.speed = 0;
      camera.keysUp = camera.keysDown = camera.keysLeft = camera.keysRight = [];
      // Clique para pointer lock (opcional)
      canvas.addEventListener('click', () => { canvas.requestPointerLock?.(); });

      // Luz básica
      const light = new BABYLON.HemisphericLight('hemi', new BABYLON.Vector3(0,1,0), scene);
      light.intensity = 0.9;

      // Sala: caixa invertida (olhamos de dentro)
      const room = BABYLON.MeshBuilder.CreateBox('room', { size: 80, sideOrientation: BABYLON.Mesh.BACKSIDE }, scene);
      const roomMat = new BABYLON.StandardMaterial('roomMat', scene);
      roomMat.diffuseColor = new BABYLON.Color3(0.06, 0.07, 0.10);
      roomMat.specularColor = new BABYLON.Color3(0, 0, 0);
      room.material = roomMat;

      // Cubo com textura crate.png do Playground
      const cube = BABYLON.MeshBuilder.CreateBox('cube', { size: 1 }, scene);
      cube.position = new BABYLON.Vector3(0, 0.5, -18);
      const crateMat = new BABYLON.StandardMaterial('crateMat', scene);
      crateMat.diffuseTexture = new BABYLON.Texture('https://playground.babylonjs.com/textures/crate.png', scene);
      crateMat.specularColor = new BABYLON.Color3(0.1,0.1,0.1);
      cube.material = crateMat;

      // Olhar inicialmente para o cubo (a partir da posição atual)
      camera.setTarget(cube.position);

      return scene;
    }

    const scene = createScene();
    engine.runRenderLoop(() => scene.render());
    window.addEventListener('resize', () => engine.resize());
  })();
  </script>
</body>
</html>
